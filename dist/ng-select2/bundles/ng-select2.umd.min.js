!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/forms"),require("@angular/common")):"function"==typeof define&&define.amd?define("ng-select2",["exports","@angular/core","@angular/forms","@angular/common"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["ng-select2"]={},e.ng.core,e.ng.forms,e.ng.common)}(this,(function(e,t,n,r){"use strict";function i(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var o=i(t);Object.create;function s(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}Object.create;var l=["selector"],a=[[["option"],["optgroup"]]],d=function(){function e(e,n,r){this.renderer=e,this.zone=n,this._element=r,this.placeholder="",this.dropdownParent="",this.allowClear=!1,this.disabled=!1,this.id=null,this.class=null,this.required=null,this.valueChanged=new t.EventEmitter,this.open=new t.EventEmitter,this.select2Api=new t.EventEmitter,this.element=void 0,this.check=!1,this.dropdownId=Math.floor(Math.random()+Date.now()),this.isOpen=!1,this.propagateChange=function(e){}}return e.prototype.ngDoCheck=function(){this.element},e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){if(this.element){if(e.data&&JSON.stringify(e.data.previousValue)!==JSON.stringify(e.data.currentValue)){this.initPlugin();var t=this.value;this.setElementValue(t),this.valueChanged.emit(t),this.propagateChange(t)}if(e.value&&e.value.previousValue!==e.value.currentValue){t=e.value.currentValue;this.setElementValue(t),this.valueChanged.emit(t),this.propagateChange(t)}e.disabled&&e.disabled.previousValue!==e.disabled.currentValue&&this.renderer.setProperty(this.selector.nativeElement,"disabled",this.disabled),e.placeholder&&e.placeholder.previousValue!==e.placeholder.currentValue&&this.element.data("select2").$container.find(".select2-selection__placeholder").text(this.placeholder),e.dropdownParent&&e.dropdownParent.previousValue!==e.dropdownParent.currentValue&&this.renderer.setAttribute(this.selector.nativeElement,"data-dropdownParent","#"+this.dropdownParent),e.allowClear&&e.allowClear.previousValue!==e.allowClear.currentValue&&this.renderer.setAttribute(this.selector.nativeElement,"data-allow-clear",this.allowClear.toString())}},e.prototype.ngAfterViewInit=function(){var e=this;this.element=jQuery(this.selector.nativeElement),this.renderer.setAttribute(this.selector.nativeElement,"data-dropdownParent","#"+this.dropdownParent),this.renderer.setAttribute(this.selector.nativeElement,"data-allow-clear",this.allowClear.toString()),this.initPlugin(),void 0!==this.value&&null!==this.value&&this.setElementValue(this.value),this.element.on("select2:select select2:unselect change",(function(t){var n=e.element.val();e.valueChanged.emit(n),"change"!==t.type&&e.propagateChange(n)})),this.element.on("select2:open",(function(){document.querySelector("."+e.getDropdownIdClass()+" .select2-search__field").focus(),e.isOpen||e.open.emit(),e.isOpen=!0})),this.element.on("select2:close",(function(){e.isOpen=!1}))},e.prototype.ngOnDestroy=function(){this.element&&(this.element.off("select2:select"),this.element.off("select2:open"),this.element.off("select2:close"))},e.prototype.initPlugin=function(){var e=this;if(this.element.select2){!0===this.element.hasClass("select2-hidden-accessible")&&(this.element.select2("destroy"),this.renderer.setProperty(this.selector.nativeElement,"innerHTML",""));var t={data:this.data,width:this.width?this.width:"resolve",placeholder:this.placeholder};this.dropdownParent&&(t.dropdownParent=jQuery("#"+this.dropdownParent)),Object.assign(t,this.options);var n=this.getDropdownIdClass();t.dropdownCssClass=t.dropdownCssClass?t.dropdownCssClass+=" "+n:n,t.matcher?jQuery.fn.select2.amd.require(["select2/compat/matcher"],(function(n){t.matcher=n(t.matcher),e.select2=e.element.select2(t).data("select2"),void 0!==e.value&&e.setElementValue(e.value)})):this.select2=this.element.select2(t).data("select2"),this.select2Api.emit(this.select2),this.renderer.setProperty(this.selector.nativeElement,"disabled",this.disabled)}else this.check||(this.check=!0,console.log("Please add Select2 library (js file) to the project.You can download it from https://github.com/select2/select2/tree/master/dist/js."))},e.prototype.setElementValue=function(e){var t,n;if(Array.isArray(e))try{for(var r=s(this.selector.nativeElement.options),i=r.next();!i.done;i=r.next()){var o=i.value;this.renderer.setProperty(o,"selected",e.indexOf(o.value)>-1)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}else this.renderer.setProperty(this.selector.nativeElement,"value",e);this.element&&this.element.trigger("change.select2")},e.prototype.getDropdownIdClass=function(){return"select2-dropdown-id-"+this.dropdownId},e.prototype.writeValue=function(e){void 0!==e&&(this.value=e,this.setElementValue(e))},e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(){},e.prototype.setDisabledState=function(e){this.disabled=e,this.renderer.setProperty(this.selector.nativeElement,"disabled",this.disabled)},e}();d.ɵfac=function(e){return new(e||d)(o.ɵɵdirectiveInject(o.Renderer2),o.ɵɵdirectiveInject(o.NgZone),o.ɵɵdirectiveInject(o.ElementRef))},d.ɵcmp=o.ɵɵdefineComponent({type:d,selectors:[["ng-select2"]],viewQuery:function(e,t){if(1&e&&o.ɵɵstaticViewQuery(l,!0),2&e){var n;o.ɵɵqueryRefresh(n=o.ɵɵloadQuery())&&(t.selector=n.first)}},inputs:{data:"data",placeholder:"placeholder",dropdownParent:"dropdownParent",allowClear:"allowClear",value:"value",width:"width",disabled:"disabled",id:"id",class:"class",required:"required",options:"options"},outputs:{valueChanged:"valueChanged",open:"open",select2Api:"select2Api"},features:[o.ɵɵProvidersFeature([{provide:n.NG_VALUE_ACCESSOR,useExisting:t.forwardRef((function(){return d})),multi:!0}]),o.ɵɵNgOnChangesFeature],ngContentSelectors:["option, optgroup"],decls:3,vars:3,consts:[["selector",""]],template:function(e,t){1&e&&(o.ɵɵprojectionDef(a),o.ɵɵelementStart(0,"select",null,0),o.ɵɵprojection(2),o.ɵɵelementEnd()),2&e&&o.ɵɵattribute("id",t.id)("class",t.class)("required",t.required)},encapsulation:2,changeDetection:0});var c=function(){};c.ɵmod=o.ɵɵdefineNgModule({type:c}),c.ɵinj=o.ɵɵdefineInjector({factory:function(e){return new(e||c)},imports:[[r.CommonModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&o.ɵɵsetNgModuleScope(c,{declarations:[d],imports:[r.CommonModule],exports:[d]}),e.NgSelect2Component=d,e.NgSelect2Module=c,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ng-select2.umd.min.js.map